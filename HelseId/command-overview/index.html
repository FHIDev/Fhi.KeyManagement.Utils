<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>HelseId Client secrets Tool - FHI HelseID Tools</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../overrides/readthedocs.css" rel="stylesheet" />
        <link href="../../overrides/cards.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "HelseId Client secrets Tool";
        var mkdocs_page_input_path = "HelseId/command-overview.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../..">
          <img src="../../logo_small.webp" class="logo" alt="Logo"/>
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Cryptography</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../Cryptography/command-overview/">Cryptography Tool (Jwk)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Commands</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../Cryptography/commands/generatecertificates/">Generate keys in certificate format Commands</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../Cryptography/commands/generatenewjsonwebkeys/">Generate new Json Web keys Command</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">HelseId</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">HelseId Client secrets Tool</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#authentication">Authentication</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#updating-client-secret-flow">Updating client secret flow</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Commands</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../commands/readclientsecret/">Read client secret command</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../commands/updateclientsecret/">Update client secret command</a>
                </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">FHI HelseID Tools</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">HelseId</li>
      <li class="breadcrumb-item active">HelseId Client secrets Tool</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="helseid-client-secrets-tool">HelseId Client secrets Tool</h1>
<p>Client Secret Tool is a console application that facilitates the secure rotation of client secrets for applications integrated with Helse ID. A user initiates a request to upgrade/rotate the client secret for an application through the tools console interface. The tool provides commands for:</p>
<ul>
<li><strong>Update client keys in HelseID client configuration:</strong> Command for updating secrets (public key) on a HelseID client. See <a href="./commands/client-secret-update-commands.md">overview of update client secret commands</a></li>
<li><strong>Read client secret expiration:</strong> Command for reading the expiration date of client secrets to enable automated monitoring and renewal scheduling. See <a href="./commands/read-client-secret-expiration-command.md">overview of read client secret expiration commands</a></li>
</ul>
<h2 id="authentication">Authentication</h2>
<p>The Client Secret Tool authenticates with Helse ID using the uses the client's existing private JWK (JSON Web Key) and client ID to verify its identity to get an access token.</p>
<h2 id="updating-client-secret-flow">Updating client secret flow</h2>
<p>The image below illustrates the steps for updating a client keys (secrets)</p>
<p><img alt="Client Secret Management" src="../ClientSecretManagement.jpg" /></p>
<ol>
<li><strong>Update klientkonfiguration scope:</strong> The client must have registered the <em>nhn:selvbetjening/client</em> scope in order for an application to use the tool. The scope <em>nhn:selvbetjening/client</em> to klientsystem must be added to the client system and klientkonfigurasjon.</li>
<li><strong>Update client with public key:</strong> The HelseId client should be updated with the newly generated keys. This is done with the command <code>updateclientkey</code>.</li>
<li><strong>Update application with private key</strong>: The application configuration must be updated with the new private key for seamless integration with the updated client.</li>
</ol>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../../Cryptography/commands/generatenewjsonwebkeys/" class="btn btn-neutral float-left" title="Generate new Json Web keys Command"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../commands/readclientsecret/" class="btn btn-neutral float-right" title="Read client secret command">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../../Cryptography/commands/generatenewjsonwebkeys/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../commands/readclientsecret/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
